/**
 * Font Override for Accessibility
 * Ensures consistent, readable fonts throughout the entire project
 * Optimized for users with poor eyesight
 * Includes emoji font support to prevent rectangle display
 */

/* Emoji font fallback - ensures emojis render correctly */
@font-face {
    font-family: 'Emoji Fallback';
    src: local('Apple Color Emoji'),
         local('Segoe UI Emoji'),
         local('Segoe UI Symbol'),
         local('Noto Color Emoji'),
         local('EmojiOne Color');
    unicode-range: U+1F300-1F9FF, U+2600-26FF, U+2700-27BF, U+1F600-1F64F, U+1F680-1F6FF, U+1F1E0-1F1FF;
}

/* Universal font application - highest priority with emoji support */
*,
*::before,
*::after {
    font-family: 'Google Sans', 'Product Sans', 'Inter', 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif,
                 'Emoji Fallback', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji', 
                 'EmojiOne Color', 'Twemoji Mozilla' !important;
    font-variant-emoji: emoji !important;
    text-rendering: optimizeLegibility !important;
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
}

/* Ensure all text elements use accessible font sizes */
body, html {
    font-size: 16px !important; /* WCAG minimum recommendation */
    line-height: 1.7 !important; /* Increased for better readability */
    font-family: 'Google Sans', 'Product Sans', 'Inter', 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif,
                 'Emoji Fallback', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji', 
                 'EmojiOne Color', 'Twemoji Mozilla' !important;
}

/* Form elements */
input, textarea, select, button {
    font-size: 16px !important; /* Prevents zoom on iOS */
    font-family: 'Google Sans', 'Product Sans', 'Inter', 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif,
                 'Emoji Fallback', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji' !important;
    line-height: 1.6 !important;
}

/* Tables */
table, th, td {
    font-size: 1rem !important;
    font-family: 'Google Sans', 'Product Sans', 'Inter', 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif,
                 'Emoji Fallback', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji' !important;
    line-height: 1.6 !important;
}

/* Cards and containers */
.card, .card-body, .card-header, .card-title {
    font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif,
                 'Emoji Fallback', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji' !important;
}

/* Buttons */
.btn {
    font-size: 1rem !important;
    font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif,
                 'Emoji Fallback', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji' !important;
    line-height: 1.6 !important;
}

/* Alerts */
.alert {
    font-size: 1rem !important;
    font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif,
                 'Emoji Fallback', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji' !important;
    line-height: 1.7 !important;
}

/* Labels */
label, .form-label {
    font-size: 1rem !important;
    font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif,
                 'Emoji Fallback', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji' !important;
    font-weight: 500 !important;
}

/* Small text - minimum readable size */
small, .small, .text-muted {
    font-size: 0.9375rem !important; /* 15px minimum for readability */
    font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif,
                 'Emoji Fallback', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji' !important;
    line-height: 1.6 !important;
}

/* Headings */
h1, h2, h3, h4, h5, h6 {
    font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif,
                 'Emoji Fallback', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji' !important;
}

/* Paragraphs and text content */
p, span, div, a, li, td, th {
    font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif,
                 'Emoji Fallback', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji' !important;
}

/* Emoji-specific support - ensures emojis render correctly */
.emoji, [class*="emoji"], [data-emoji] {
    font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji', 'EmojiOne Color', 'Twemoji Mozilla' !important;
    font-style: normal !important;
    font-weight: normal !important;
}

/* Ensure icons render with the proper font and weight */
i[class*="fa-"], .fas, .far, .fal, .fab {
    font-family: 'Font Awesome 6 Free', 'Font Awesome 5 Free', 'Font Awesome 6 Brands', 'Font Awesome 5 Brands' !important;
    font-style: normal !important;
    font-weight: 900 !important; /* solid weight */
    speak: none;
}

/* Prevent emoji rendering issues - force emoji font stack for all text content */
body, p, span, div, a, li, td, th, label, input, textarea, select, button, h1, h2, h3, h4, h5, h6 {
    font-variant-emoji: emoji !important;
    text-rendering: optimizeLegibility !important;
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
}
